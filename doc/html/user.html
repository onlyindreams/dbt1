<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=iso-8859-1">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 1.0  (Linux)">
	<META NAME="CREATED" CONTENT="20020618;13110200">
	<META NAME="CHANGED" CONTENT="20020621;9315900">
	<STYLE>
	<!--
		@page { margin-left: 3.18cm; margin-right: 3.18cm; margin-top: 2.54cm; margin-bottom: 2.54cm }
		P { margin-bottom: 0.21cm }
		H1 { margin-bottom: 0.21cm }
		H1.western { font-family: "Albany", sans-serif; font-size: 16pt }
		H1.cjk { font-size: 16pt }
		H1.ctl { font-size: 16pt }
		H2 { margin-bottom: 0.21cm }
		H2.western { font-family: "Albany", sans-serif; font-size: 14pt; font-style: italic }
		H2.cjk { font-size: 14pt; font-style: italic }
		H2.ctl { font-size: 14pt; font-style: italic }
		H3 { margin-bottom: 0.21cm }
		H3.western { font-family: "Albany", sans-serif }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-US">
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P ALIGN=CENTER STYLE="margin-top: 0.42cm; page-break-after: avoid"><FONT FACE="Albany, sans-serif"><FONT SIZE=5><B>OSDL-DBT-1</B></FONT></FONT></P>
<P ALIGN=CENTER STYLE="margin-top: 0.42cm; page-break-after: avoid"><FONT FACE="Albany, sans-serif"><FONT SIZE=4><I>A
Transactional e-Commerce Database Workload</I></FONT></FONT></P>
<P ALIGN=CENTER STYLE="margin-top: 0.42cm; page-break-after: avoid"><FONT FACE="Albany, sans-serif"><FONT SIZE=4><I>User
Manual</I></FONT></FONT></P>
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><SDFIELD TYPE=DOCINFO SUBTYPE=CREATE FORMAT=DATE SDNUM="1033;1033;MMMM D, YYYY">June 18, 2002</SDFIELD></P>
<P ALIGN=CENTER STYLE="margin-bottom: 0cm"><BR>
</P>
<DIV ID="Table of Contents1">
	<DIV ID="Table of Contents1_Head">
		<P STYLE="margin-top: 0.42cm; page-break-before: always; page-break-after: avoid">
		<FONT FACE="Albany, sans-serif"><FONT SIZE=4 STYLE="font-size: 16pt"><B>Table
		of Contents</B></FONT></FONT></P>
	</DIV>
	<P STYLE="margin-bottom: 0cm">1Introduction	3</P>
	<P STYLE="margin-bottom: 0cm">2Setup	3</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">2.1Getting the
	Files	3</P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0cm">2.1.1OSDL-DBT-1	3</P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0cm">2.1.2SAP DB	3</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">2.2Compiling the
	Test Kit	4</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">2.3Building the
	Database	4</P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0cm">2.3.1SAP DB	4</P>
	<P STYLE="margin-left: 1cm; margin-bottom: 0cm">2.3.2Creating the
	Database	5</P>
	<P STYLE="margin-bottom: 0cm">3Configuration	5</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">3.1ODBC	5</P>
	<P STYLE="margin-bottom: 0cm">4Running the Test Kit	6</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">4.1Two-Tier
	Environment	7</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">4.2Three-Tier
	Environment	8</P>
	<P STYLE="margin-bottom: 0cm">5Test Results	9</P>
	<P STYLE="margin-bottom: 0cm">6Tools	11</P>
	<P STYLE="margin-left: 0.5cm; margin-bottom: 0cm">6.1SAP DB	13</P>
</DIV>
<P ALIGN=LEFT STYLE="margin-bottom: 0cm"><BR>
</P>
<H1 CLASS="western" STYLE="page-break-before: always">1Introduction</H1>
<P>This document provides the user instructions on how to use this
kit.</P>
<H1 CLASS="western">2Setup</H1>
<P>The source files for the OSDL-DBT-1 test kit and a database must
be retrieved in order to use the kit.  The kit currently supports
only SAP DB.</P>
<H2 CLASS="western">2.1Getting the Files</H2>
<P>The source code for the OSDL-DBT-1 kit and a database must be
downloaded.</P>
<H3 CLASS="western">2.1.1OSDL-DBT-1</H3>
<P>Complete instructions on how to obtain the latest source files
from the CVS repository for the OSDL-DBT-1 kit can be found on
SourceForge at the following Web address:</P>
<P>	http://sourceforge.net/cvs/?group_id=52479</P>
<P>Or the following commands can be used to retrieve the current
source files from CVS:</P>
<P STYLE="margin-left: 2.2cm"><I>cvs
-d:pserver:anonymous@cvs.osdldbt.sourceforge.net:/cvsroot/osdldbt
login</I></P>
<P STYLE="margin-left: 2.2cm"><I>cvs -z3
-d:pserver:anonymous@cvs.osdldbt.sourceforge.net:/cvsroot/osdldbt co
dbt2</I></P>
<P STYLE="font-style: normal">When prompted for a password, just
press the enter key.</P>
<P><BR><BR>
</P>
<P>The latest stable version of the kit can also be found listed on
SourceForge at the following Web address:</P>
<P>	http://sourceforge.net/project/showfiles.php?group_id=52479</P>
<P><BR><BR>
</P>
<P>It is also recommended that a link be created to the location
where the source code resides from <I>/usr/local/src/dbt1</I> since
some scripts and programs assume the source code is in that location.</P>
<H3 CLASS="western">2.1.2SAP DB</H3>
<P>The OSDL-DBT-1 test kit was developed using SAP DB Version
7.3.0.21.  Newer version of the database should work fine with the
test kit.  Binary packages and installation instructions for Linux
can be obtained from SAP at the following Web address:</P>
<P>	http://www.sapdb.org/sap_db_linux.htm</P>
<P>Source packages and installation instructions for Linux can be
obtained from SAP at the following Web address:</P>
<P>	http://www.sapdb.org/develop/dev_linux.htm</P>
<P><BR><BR>
</P>
<P>Source files and the binary tgz packages contain the complete
database package.  If rpm files are desired, the following files are
required:</P>
<UL>
	<LI><P>sapdb-ind-7.3.0.21-1.i386.rpm</P>
	<LI><P>sapdb-srv-7.3.0.21-1.i386.rpm</P>
	<LI><P>sapdb-callif-7.3.0.21-1.i386.rpm</P>
</UL>
<P>The additional rpm packages can be retrieved and used with the
test kit.</P>
<P><BR><BR>
</P>
<P>The ODBC header files and libraries must also be installed on the
same system with the source code in order to build the test kit.  The
libraries are included in the sapdb-callif-7.3.0.21-1.i386.rpm file. 
The libraries must also be installed the database system and the
system with the appServer.  The system with the driver needs the ODBC
libraries only if the driver is used in a two-tier environment.</P>
<H2 CLASS="western">2.2Compiling the Test Kit</H2>
<P>The entire test kit can be compiled by running <I>make</I><SPAN STYLE="font-style: normal">
in the top level directory of the source code.</SPAN></P>
<H2 CLASS="western">2.3Building the Database</H2>
<P>This following sections explains how to build the database
depending on which database is used.  SAP DB is currently the only
database supported.</P>
<H3 CLASS="western">2.3.1SAP DB</H3>
<P>An OpenOffice.org spreadsheet is provided to aid in sizing the
database:</P>
<P>	doc/sapdb_sizing.sxc</P>
<P><BR><BR>
</P>
<P>Under the <I>Performance</I> tab there are two parameters that can
be change.  A default value of 1,000 is entered for the number of
items to create and a default value of 1 is entered for the number of
emulated users (EUs) expected to run against the database.  The
number of items can be changed to 10,000, 100,000, 1,000,000, or
10,000,000.  The number of EUs can be any positive integer.</P>
<P><BR><BR>
</P>
<P>The data displayed under the <I>Load</I><SPAN STYLE="font-style: normal">
tab report the expected size of the database for the parameters
entered to be used for the physical database layout.  The number to
note is the total number of 8 KB pages since SAP DB uses those units
in its configuration settings.  Keep in mind that extra space must be
taken into consideration because the database grows during a test
run.</SPAN></P>
<P STYLE="font-style: normal"><BR><BR>
</P>
<P><SPAN STYLE="font-style: normal">A shell script,
</SPAN><I>scripts/sapdb/create_db.sh</I><SPAN STYLE="font-style: normal">,
creates the physical database.  In that script, there are lines
beginning with </SPAN><I>param_adddevspace</I><SPAN STYLE="font-style: normal">
that define the devices on which the database resides.  These lines
must be tailored fit the I/O subsystem on the system that the
database is running on for the system devspace, log devspace, and
user devspace.  The number defining the size of the log devspaces and
the data devspaces are in units of 8 KB pages.  This script is
executed within the </SPAN><I>db_setup_sample.sh</I><SPAN STYLE="font-style: normal">
script that is explained in the next section.</SPAN></P>
<P STYLE="font-style: normal"><BR><BR>
</P>
<P STYLE="font-style: normal">The users dbm, dba, and dbt are
created, with passwords the same as the user name, by <I>create_db.sh</I>.
 The user dbm is the database administrator account, dba is the
utility account, and dbt is the user account.  For the sole purpose
of running the test kit, only the dbt account is used to run the
programs built in the test kit.</P>
<H3 CLASS="western">2.3.2Creating the Database</H3>
<P>Under each database specific directory under <I>scripts/</I><SPAN STYLE="font-style: normal">
is a file called </SPAN><I>db_setup_sample.sh</I><SPAN STYLE="font-style: normal">.
 This script has two variables defined in it, ITEMS and EUS, which
refer to the number of items to generate in the database and the
number of EUs expected to run</SPAN>.  Executing the script runs the
<I>create_db.sh </I><SPAN STYLE="font-style: normal">script,
</SPAN>generates the database table data, creates the database
tables, loads the database, creates indexes, loads the stored
procedures, and backs up the database.</P>
<H1 CLASS="western">3Configuration</H1>
<P>This section explains how to configure various parts of the system
before running the test kit.</P>
<H2 CLASS="western">3.1ODBC</H2>
<P>There are two ways to connect to the a database using ODBC.  The
first way is to use the address of the database system and the
database name separated by a colon in the syntax<I>
address:database_name </I>when the <I>server name</I><SPAN STYLE="font-style: normal">.
 For example:</SPAN></P>
<P STYLE="font-style: normal">	<I>192.168.0.1:DBT1</I></P>
<P STYLE="font-style: normal">is a valid <I>server name</I> for the
DBT1 database on the system at 192.168.0.1.</P>
<P STYLE="font-style: normal"><BR><BR>
</P>
<P STYLE="font-style: normal">The second method uses the <I>.odbc.ini</I>
file that must reside in the home directory of the user attempting to
run the program.  The format of the file is:</P>
<P STYLE="margin-left: 2.2cm"><I>[alias]</I></P>
<P STYLE="margin-left: 2.2cm"><I>ServerDB = database_name</I></P>
<P STYLE="margin-left: 2.2cm"><I>ServerNode = address</I></P>
<P STYLE="margin-left: 2.2cm"><I>Driver =
/opt/sapdb/interfaces/odbc/lib/libsqlod.so</I></P>
<P STYLE="margin-left: 2.2cm"><I>Description = any text</I></P>
<P STYLE="font-style: normal">For example:</P>
<P STYLE="margin-left: 2.2cm"><I>[dbt1]</I></P>
<P STYLE="margin-left: 2.2cm"><I>ServerDB = DBT1</I></P>
<P STYLE="margin-left: 2.2cm"><I>ServerNode = 192.168.0.1</I></P>
<P STYLE="margin-left: 2.2cm"><I>Driver =
/opt/sapdb/interfaces/odbc/lib/libsqlod.so</I></P>
<P STYLE="margin-left: 2.2cm"><I>Description = OSDL-DBT-1</I></P>
<P STYLE="font-style: normal">is a valid <I>.odbc.ini</I> file where
<I>dbt1</I> can be used as the <I>server </I>name to connect to the
database.</P>
<H1 CLASS="western">4Running the Test Kit</H1>
<P>The OSDL-DBT-1 test kit can be run in two ways.  The kit is
designed to be run in a two-tier and a three-tier environment.  The
two-tier environment involves running the driver against the database
directly, as shown in Figure 1.  The three-tier environment involves
running the driver against a type of transaction management program
on the middle-tier system that sits in front of the database, as
shown in Figure 2.</P>
<P ALIGN=CENTER><IMG SRC="user_html_m3290fcae.gif" NAME="Frame1" ALT="Frame1" ALIGN=BOTTOM HSPACE=7 VSPACE=8></P>
<P ALIGN=CENTER><IMG SRC="user_html_m12b259a0.gif" NAME="Frame2" ALT="Frame2" ALIGN=BOTTOM HSPACE=7 VSPACE=8></P>
<P ALIGN=LEFT>The two-tier environment is not as scalable as the
three-tier environment.</P>
<P ALIGN=LEFT><BR><BR>
</P>
<P ALIGN=LEFT>The test kit also provides scripts to help collect
processor, disk, and memory utilization, using<I> iostat</I><SPAN STYLE="font-style: normal">,</SPAN><I>
</I>in the <I>scrips/stats/</I><SPAN STYLE="font-style: normal">
directory, </SPAN><I>cpu.sh</I><SPAN STYLE="font-style: normal">,
</SPAN><I>io.sh</I><SPAN STYLE="font-style: normal">, and </SPAN><I>paging.sh</I><SPAN STYLE="font-style: normal">
respectively.  Each script takes two command line arguments, in the
following order, the sample size in seconds, and the number of
samples to take.  To collect ten minutes of processor utilization
data over 30 second intervals:</SPAN></P>
<P ALIGN=LEFT STYLE="margin-left: 2.2cm"><I>cpu.sh 30 20</I></P>
<P ALIGN=LEFT STYLE="font-style: normal">will collect 20 samples that
30 second samples.</P>
<P ALIGN=LEFT STYLE="font-style: normal"><BR><BR>
</P>
<P ALIGN=LEFT STYLE="font-style: normal">The script,
<I>run_test_sample.sh</I>, in the <I>scripts/</I> directory is
provided as a sample on how to run the test kit on a single system. 
The variables that should be changed are:</P>
<UL>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">SRCHOME	-	The root
	directory of the source code.</P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">EUS		-	The number of
	users to emulate.</P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">ITEMS		-	The number of
	items in the database.</P>
	<LI><P ALIGN=LEFT><SPAN STYLE="font-style: normal">CUSTOMERS	-	The
	number of customers in the database: 			EUS * 2880</SPAN></P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">RAMPUP	-	The number of
	users to start per minute.</P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">THINKTIME	-	The number
	of seconds a user spends between 			interactions.</P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">DURATION	-	The length
	of a test run in seconds.</P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">CONNECT_STR	-	The
	database connect string.</P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">DB_USER	-	The user
	name: dbt.</P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">DB_PASS	-	The user
	password: dbt.</P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">DB_CONN	-	The number of
	database connections to open 			from the appServer program.</P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">APP_PORT	-	The port
	where the appServer program is 			listening for connection requests
	from the 			driver.</P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">Q_SIZE		-	The maximum 
	number of transaction that can 			be queued in the appServer
	program.</P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">T_SIZE		-	The maximum
	number of transactions that can 			be queued for an individual
	interaction.</P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">SAMPLE_LENGTH	-	The
	number of seconds the processor, disk, 			and paging statistics
	should be sampled over.</P>
	<LI><P ALIGN=LEFT STYLE="font-style: normal">NUMBER_OF_SAMPLES	The
	number of samples to take of the 				processor, disk, and paging
	statistics.</P>
</UL>
<P ALIGN=LEFT STYLE="font-style: normal"><BR><BR>
</P>
<P ALIGN=LEFT STYLE="font-style: normal"><SPAN STYLE="font-style: normal">The
following sub-sections detail how to run each program individually.</SPAN></P>
<H2 CLASS="western">4.1Two-Tier Environment</H2>
<P>The driver program for the two-tier environment is compiled as
<I>dbdriver_p1</I> in the <I>dbdriver</I><SPAN STYLE="font-style: normal">/
directory.  The </SPAN><I>dbdriver_p1</I><SPAN STYLE="font-style: normal">
program takes the following arguments in the following order:</SPAN></P>
<UL>
	<LI><P STYLE="font-style: normal">server name	-	The database connect
	string.</P>
	<LI><P STYLE="font-style: normal">user		-	Database user name: <I>dbt</I>.</P>
	<LI><P STYLE="font-style: normal">pass		-	Database user password:
	<I>dbt</I>.</P>
	<LI><P STYLE="font-style: normal">items		-	Number of items in the
	database.</P>
	<LI><P STYLE="font-style: normal">customers	-	Number of customers in
	the database: eus <FONT FACE="StarSymbol">*</FONT> 			2880.</P>
	<LI><P STYLE="font-style: normal">eus		-	The number of users
	emulated.</P>
	<LI><P STYLE="font-style: normal">eu/min		-	The number of users to
	connect per minute.</P>
	<LI><P STYLE="font-style: normal">think time	-	The number of seconds
	a user spends between 			interactions.</P>
	<LI><P STYLE="font-style: normal">duration		-	The length of test, in
	seconds, after all users 			connect.</P>
</UL>
<H2 CLASS="western">4.2Three-Tier Environment</H2>
<P>The <I>appServer</I> program must be started before the driver in
the three-tier environment.  The program resides in the <I>appServer/</I><SPAN STYLE="font-style: normal">
directory and take the following arguments in the following order:</SPAN></P>
<UL>
	<LI><P STYLE="font-style: normal">dbnodename	-	Synonymous to <I>server
	name</I> and is the address 			of the database.</P>
	<LI><P STYLE="font-style: normal">username		-	The database user
	name: dbt.</P>
	<LI><P STYLE="font-style: normal">password		-	The database user
	password: dbt.</P>
	<LI><P STYLE="font-style: normal">port		-	The port to listen for
	connection requests from 			the driver program.</P>
	<LI><P STYLE="font-style: normal">db_connection	-	The number of
	database connections to open.</P>
	<LI><P STYLE="font-style: normal">transaction queue size	-	The
	maximum number of transactions that can 			be queued.</P>
	<LI><P STYLE="font-style: normal"><SPAN STYLE="font-style: normal">transaction
	array size	-	The maximum number of transactions that can 			be
	queued for an interaction.</SPAN></P>
</UL>
<P STYLE="font-style: normal"><BR><BR>
</P>
<P>The driver program for the three-tier environment is compiled as
<I>dbdriver_p2</I> in the <I>dbdriver</I><SPAN STYLE="font-style: normal">/
directory.  The </SPAN><I>dbdriver_p2</I><SPAN STYLE="font-style: normal">
program takes the following arguments in the following order:</SPAN></P>
<UL>
	<LI><P STYLE="font-style: normal">server name	-	The address of the
	appServer program.</P>
	<LI><P STYLE="font-style: normal">port		-	The port the appServer
	program is listening to.</P>
	<LI><P STYLE="font-style: normal">items		-	Number of items in the
	database.</P>
	<LI><P STYLE="font-style: normal">customers	-	Number of customers in
	the database: eus <FONT FACE="StarSymbol">*</FONT> 			2880.</P>
	<LI><P STYLE="font-style: normal">eus		-	The number of users
	emulated.</P>
	<LI><P STYLE="font-style: normal">eu/min		-	The number of users to
	connect per minute.</P>
	<LI><P STYLE="font-style: normal">think time	-	The number of seconds
	a user spends between 			interactions.</P>
	<LI><P STYLE="font-style: normal">duration		-	The length of test, in
	seconds, after all users 			connect.</P>
</UL>
<H1 CLASS="western">5Test Results</H1>
<P>The driver program, in both its forms, records response time data
to the file <I>mix.log</I><SPAN STYLE="font-style: normal">.  A
program, </SPAN><I>results</I><SPAN STYLE="font-style: normal">, is
provided in the </SPAN><I>tools/</I><SPAN STYLE="font-style: normal">
directory, which takes the file name as a command line argument to
analyze the file.  The </SPAN><I>results</I><SPAN STYLE="font-style: normal">
program also assumes the output files from the </SPAN><I>cpu.sh</I><SPAN STYLE="font-style: normal">,
</SPAN><I>io.sh</I><SPAN STYLE="font-style: normal">, and </SPAN><I>paging.sh</I><SPAN STYLE="font-style: normal">
are in the </SPAN><I>scripts/stats/</I><SPAN STYLE="font-style: normal">
directory relative to the </SPAN><I>tools/</I><SPAN STYLE="font-style: normal">
directory.  The </SPAN><I>results</I><SPAN STYLE="font-style: normal">
program displays the results of these files to the screen, for
example:</SPAN></P>
<P STYLE="margin-left: 2.2cm"><I>interaction	%	avg response time (s)</I></P>
<P STYLE="margin-left: 2.2cm"><I>AC		0.04	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><I>AR		0.05	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><I>BS		5.19	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><I>BC		1.08	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><I>BR		2.50	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><I>CR		2.92	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><I>HO		17.19	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><I>NP		4.98	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><I>OD		0.63	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><I>OI		0.78	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><I>PD		16.71	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><I>SR		19.76	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><I>SU		16.55	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><I>SC		11.62	0.000</I></P>
<P STYLE="margin-left: 2.2cm"><BR><BR>
</P>
<P STYLE="margin-left: 2.2cm"><I>12.6 interactions per second</I></P>
<P STYLE="margin-left: 2.2cm"><I>17.7 minute duration</I></P>
<P STYLE="margin-left: 2.2cm"><BR><BR>
</P>
<P STYLE="margin-left: 2.2cm"><I>CPU:</I></P>
<P STYLE="margin-left: 2.2cm"><I>Average %user 11.43</I></P>
<P STYLE="margin-left: 2.2cm"><I>Average %nice 0.00</I></P>
<P STYLE="margin-left: 2.2cm"><I>Average %sys 7.26</I></P>
<P STYLE="margin-left: 2.2cm"><I>Average %idle 81.30</I></P>
<P STYLE="margin-left: 2.2cm"><BR><BR>
</P>
<P STYLE="margin-left: 2.2cm"><I>I/O:</I></P>
<P STYLE="margin-left: 2.2cm"><I>The following numbers are presented
as averages for each column.</I></P>
<P STYLE="margin-left: 2.2cm"><I>Note that stats are reported for
every device attached to the system.</I></P>
<P STYLE="margin-left: 2.2cm"><I>device	rrqm/s	wrqm/s	r/s	w/s	rsec/s	wsec/s	avgrq-sz	avgqu-sz
       await	svctm	%util</I></P>
<P STYLE="margin-left: 2.2cm"><I>hda1	0.00	0.00	0.00	0.00	0.00	0.00	0.24		0.00	</I></P>
<P STYLE="margin-left: 2.2cm"><I>        16.77	10.50	0.00</I></P>
<P STYLE="margin-left: 2.2cm"><I>hda2	7.38	4.25	2.29	2.62	77.39	55.23	27.89		1.25	</I></P>
<P STYLE="margin-left: 2.2cm"><I>        360.66	181.54	6.34</I></P>
<P STYLE="margin-left: 2.2cm"><I>hda3	0.17	0.00	0.02	0.00	1.59	0.00	11.87		0.00	</I></P>
<P STYLE="margin-left: 2.2cm"><I>        39.44	26.33	0.03</I></P>
<P STYLE="margin-left: 2.2cm"><I>hdb	0.00	0.00	0.01	0.01	0.10	0.09	2.29		0.00	</I></P>
<P STYLE="margin-left: 2.2cm"><I>        46.27	3.41	0.00</I></P>
<P STYLE="margin-left: 2.2cm"><I>hdb1	0.00	0.00	0.01	0.01	0.10	0.09	2.29		0.00	</I></P>
<P STYLE="margin-left: 2.2cm"><I>        46.27	3.41	0.00</I></P>
<P STYLE="margin-left: 2.2cm"><I>hda	7.73	4.25	2.37	2.67	80.82	55.65	27.72		1.29	</I></P>
<P STYLE="margin-left: 2.2cm"><I>        364.82	183.28	6.50</I></P>
<P STYLE="margin-left: 2.2cm"><BR><BR>
</P>
<P STYLE="margin-left: 2.2cm"><I>Paging:</I></P>
<P STYLE="margin-left: 2.2cm"><I>Average pgpgin/s 43.67</I></P>
<P STYLE="margin-left: 2.2cm"><I>Average pgpgout/s 27.91</I></P>
<P STYLE="margin-left: 2.2cm"><I>Average activepg 29601.77</I></P>
<P STYLE="margin-left: 2.2cm"><I>Average inadtypg 14288.26</I></P>
<P STYLE="margin-left: 2.2cm"><I>Average inaclnpg 2696.00</I></P>
<P STYLE="margin-left: 2.2cm"><I>Average inatarpg 2112.82</I></P>
<H1 CLASS="western">6Tools</H1>
<P>Other tools are provided in the test kit that aid in setting up
the database or testing different functions of the kit.  These tools
are explained in this section: <I>load_db_proc, odbc_test_p1</I>, and
<I>odbc_test_p2</I>.  Database specific tools are listed under the
appropriate sections.</P>
<P><BR><BR>
</P>
<P>The <I>odbc_test_p1</I> and <I>odbc_test_p2</I> programs , in the
<I>tools/</I><SPAN STYLE="font-style: normal"> directory, </SPAN>are
used to support isolated testing of the database stored procedures. 
And <I>load_db_proc</I> is the program to load long stored procedures
that <I>repmcli</I><SPAN STYLE="font-style: normal"> cannot load. 
D</SPAN>ue to limitations in <I>repmcli</I> <SPAN STYLE="font-style: normal">,
the </SPAN>program  fails to load a stored procedure if the size of
the stored procedures is too large.  The <I>load_db_proc</I> program
is provided as a tool to load those zlong stored procedures.  To
execute <I>load_db_proc </I>, go to the <I>tools/</I><SPAN STYLE="font-style: normal">
directory</SPAN> and type:</P>
<P>	<I>./load_db_proc &lt;servername&gt; &lt;uname&gt; &lt;password&gt;
&lt;db_procedure_name&gt;</I></P>
<P><SPAN STYLE="font-style: normal">where:</SPAN></P>
<UL>
	<LI><P>servername	-	The hostname or IP address of the database
				machine. 
	</P>
	<LI><P>user		-	 Database user name, e.g. dbt. 
	</P>
	<LI><P>pass		-	 Database user password, e.g. dbt.</P>
	<LI><P>db_procedure_name	-	The stored procedure file name. 
	</P>
</UL>
<P><BR><BR>
</P>
<P>The <I>odbc_test_p1</I> program is the tool used to test each
individual interaction.  It connects to the database directly.  To
execute the program, go to directory tools and type:</P>
<P>	<I>./odbc_test_p1 &lt;interaction&gt; &lt;servername&gt; &lt;uname&gt;
&lt;password&gt; </I>
</P>
<P>The <I>&lt;interaction&gt;</I> option can be one of the following:</P>
<UL>
	<LI><P>ac	-	Admin Confirm</P>
	<LI><P>ar	-	Admin Request</P>
	<LI><P>bs	-	Best Sellers</P>
	<LI><P>bc	-	Buy Confirm</P>
	<LI><P>br	-	Buy Request</P>
	<LI><P>ho	-	Home</P>
	<LI><P>np	-	New Products</P>
	<LI><P>od	-	Order Display</P>
	<LI><P>oi	-	Order Inquiry</P>
	<LI><P>pd	-	Product Display</P>
	<LI><P>sr	-	Search Request</P>
	<LI><P>su	-	Search Results</P>
	<LI><P>sc	-	Shopping Cart</P>
</UL>
<P><BR><BR>
</P>
<P>The <I>&lt;servername&gt;</I><SPAN STYLE="font-style: normal"> is
t</SPAN>he database node name in the format of
<I>hostname:database_name</I>. For example, <I>localhost:DBT1</I>.</P>
<P><BR><BR>
</P>
<P>The <I>&lt;uname&gt;</I><SPAN STYLE="font-style: normal"> option
is the d</SPAN>atabase user name: dbt.</P>
<P><BR><BR>
</P>
<P>The <I>&lt;password&gt;</I> options is the database user password:
dbt.</P>
<P><BR><BR>
</P>
<P>The <I>odbc_test_p2</I> program is used to test each individual
interaction and it connects to the <I>appServer</I> program instead
of connecting directly to the database. To execute this program, go
to directory tools and type:</P>
<P>	<I>./odbc_test_p2 &lt;interaction&gt; &lt;servername&gt; &lt;port&gt;
</I>
</P>
<P>The interaction options are the same as those for the <I>odbc_test_p1</I><SPAN STYLE="font-style: normal">
program.  The </SPAN><I>&lt;interaction&gt;</I> option can be one of
the following:</P>
<UL>
	<LI><P>ac	-	Admin Confirm</P>
	<LI><P>ar	-	Admin Request</P>
	<LI><P>bs	-	Best Sellers</P>
	<LI><P>bc	-	Buy Confirm</P>
	<LI><P>br	-	Buy Request</P>
	<LI><P>ho	-	Home</P>
	<LI><P>np	-	New Products</P>
	<LI><P>od	-	Order Display 
	</P>
	<LI><P>oi	-	Order Inquiry</P>
	<LI><P>pd	-	Product Display</P>
	<LI><P>sr	-	Search Request</P>
	<LI><P>su	-	Search Results</P>
	<LI><P>sc	-	Shopping Cart</P>
</UL>
<P><BR><BR>
</P>
<P>The <I>&lt;servername&gt;</I> option is the hostname or IP address
of the system where the <I>appServer</I> program is running on.</P>
<P><BR><BR>
</P>
<P>The <I>&lt;port&gt;</I> option is the port number where the
<I>appServer</I><SPAN STYLE="font-style: normal"> is listening to</SPAN>.
 It is the port number used when starting the <I>appServer</I><SPAN STYLE="font-style: normal">
program.</SPAN></P>
<H2 CLASS="western">6.1SAP DB</H2>
<P>The tools provided for SAP DB are a set of scripts that aid in
using the database.</P>
<P><BR><BR>
</P>
<P>The <I>backup_db.sh</I><SPAN STYLE="font-style: normal"> script
backups the database.</SPAN></P>
<P STYLE="font-style: normal"><BR><BR>
</P>
<P><SPAN STYLE="font-style: normal">The </SPAN><I>drop_db.sh</I><SPAN STYLE="font-style: normal">
script drops the database.</SPAN></P>
<P STYLE="font-style: normal"><BR><BR>
</P>
<P><SPAN STYLE="font-style: normal">The </SPAN><I>monitor.sh</I><SPAN STYLE="font-style: normal">
script takes a snapshot of all of the counters in most of the monitor
tables and outputs them into text files.</SPAN></P>
<P STYLE="font-style: normal"><BR><BR>
</P>
<P><SPAN STYLE="font-style: normal">The </SPAN><I>restart.sh</I><SPAN STYLE="font-style: normal">
script shutdown down and start the database.</SPAN></P>
<P><SPAN STYLE="font-style: normal">The </SPAN><I>trace_off.sh</I><SPAN STYLE="font-style: normal">
script shuts of the database trace and takes a command line argument
for were to output the trace data.  For example:</SPAN></P>
<P STYLE="margin-left: 2.2cm"><I>trace_off.sh /tmp/todays_trace.txt</I></P>
<P><SPAN STYLE="font-style: normal">Be sure to run <I>trace_on.sh</I><SPAN STYLE="font-style: normal">
first, or else there will not be any trace data collected.</SPAN></SPAN></P>
<P><BR><BR>
</P>
<P><SPAN STYLE="font-style: normal">The </SPAN><I>trace_on.sh</I><SPAN STYLE="font-style: normal">
script turns on the database trace.</SPAN></P>
<P><SPAN STYLE="font-style: normal">The </SPAN><I>update_stats.sh</I><SPAN STYLE="font-style: normal">
script updates the statistics table in the database to help the
optimizer.</SPAN></P>
<DIV TYPE=FOOTER>
	<P ALIGN=CENTER STYLE="margin-top: 0.5cm; margin-bottom: 0cm"><SDFIELD TYPE=PAGE SUBTYPE=RANDOM FORMAT=PAGE>13</SDFIELD></P>
</DIV>
</BODY>
</HTML>